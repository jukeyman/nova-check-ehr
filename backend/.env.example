# ============================================================================
# NOVA CHECK EHR - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control

# Application Configuration
NODE_ENV=development
PORT=3001
API_VERSION=v1
APP_NAME="Nova Check EHR"
APP_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/nova_check_ehr?schema=public"
DATABASE_POOL_SIZE=10
DATABASE_TIMEOUT=30000

# JWT Configuration
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-this-in-production"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"
JWT_ISSUER="nova-check-ehr"
JWT_AUDIENCE="nova-check-users"

# Encryption Configuration
ENCRYPTION_KEY="your-32-character-encryption-key-here"
ENCRYPTION_ALGORITHM="aes-256-gcm"

# Redis Configuration (for caching and sessions)
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0
REDIS_KEY_PREFIX="nova_ehr:"
REDIS_TTL=3600

# Email Configuration (SMTP)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM_NAME="Nova Check EHR"
SMTP_FROM_EMAIL="noreply@novacheck.com"

# Alternative Email Services
# SendGrid
SENDGRID_API_KEY="your-sendgrid-api-key"
SENDGRID_FROM_EMAIL="noreply@novacheck.com"

# Mailgun
MAILGUN_API_KEY="your-mailgun-api-key"
MAILGUN_DOMAIN="your-domain.com"

# SMS Configuration (Twilio)
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"
TWILIO_VERIFY_SERVICE_SID="your-verify-service-sid"

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES="image/jpeg,image/png,image/gif,application/pdf,text/plain,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
UPLOAD_DESTINATION="uploads"

# AWS S3 Configuration (optional)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="nova-check-ehr-files"
AWS_S3_URL="https://your-bucket.s3.amazonaws.com"

# Google Cloud Storage (optional)
GCS_PROJECT_ID="your-gcs-project-id"
GCS_KEY_FILE="path/to/service-account-key.json"
GCS_BUCKET="nova-check-ehr-files"

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_UPLOAD_MAX=10
RATE_LIMIT_ANALYTICS_MAX=20

# CORS Configuration
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"
CORS_CREDENTIALS=true

# Logging Configuration
LOG_LEVEL="info"
LOG_FILE_ENABLED=true
LOG_FILE_PATH="logs"
LOG_MAX_SIZE="20m"
LOG_MAX_FILES="14d"
LOG_DATE_PATTERN="YYYY-MM-DD"

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_SECRET="your-session-secret-key"
CSRF_SECRET="your-csrf-secret-key"
HELMET_CSP_ENABLED=true

# API Keys for External Services
# OpenAI (for AI features)
OPENAI_API_KEY="your-openai-api-key"
OPENAI_MODEL="gpt-3.5-turbo"

# Stripe (for payments)
STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"

# Google APIs
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_MAPS_API_KEY="your-google-maps-api-key"

# Microsoft Azure (for SSO)
AZURE_CLIENT_ID="your-azure-client-id"
AZURE_CLIENT_SECRET="your-azure-client-secret"
AZURE_TENANT_ID="your-azure-tenant-id"

# Monitoring and Analytics
# Sentry (error tracking)
SENTRY_DSN="your-sentry-dsn"
SENTRY_ENVIRONMENT="development"

# New Relic (performance monitoring)
NEW_RELIC_LICENSE_KEY="your-new-relic-license-key"
NEW_RELIC_APP_NAME="Nova Check EHR Backend"

# DataDog (monitoring)
DATADOG_API_KEY="your-datadog-api-key"
DATADOG_APP_KEY="your-datadog-app-key"

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET="nova-check-ehr-backups"

# Feature Flags
FEATURE_AI_ENABLED=false
FEATURE_TELEMEDICINE_ENABLED=false
FEATURE_BILLING_ENABLED=false
FEATURE_ANALYTICS_ENABLED=true
FEATURE_NOTIFICATIONS_ENABLED=true
FEATURE_FILE_UPLOAD_ENABLED=true

# Development Configuration
DEBUG_ENABLED=true
DEBUG_NAMESPACE="nova:*"
API_DOCS_ENABLED=true
SWAGGER_ENABLED=true

# Testing Configuration
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/nova_check_ehr_test?schema=public"
TEST_JWT_SECRET="test-jwt-secret"
TEST_ENCRYPTION_KEY="test-encryption-key-32-characters"

# Production Specific (only set in production)
# SSL_CERT_PATH="/path/to/ssl/cert.pem"
# SSL_KEY_PATH="/path/to/ssl/private.key"
# CLUSTER_ENABLED=true
# CLUSTER_WORKERS=4

# Compliance and Audit
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
HIPAA_COMPLIANCE_MODE=true
GDPR_COMPLIANCE_MODE=true

# Cache Configuration
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_SESSION=1800
CACHE_TTL_PATIENT_DATA=300
CACHE_TTL_ANALYTICS=7200

# Notification Configuration
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_SMS_ENABLED=true
NOTIFICATION_PUSH_ENABLED=false
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_RETRY_ATTEMPTS=3

# Appointment Configuration
APPOINTMENT_SLOT_DURATION=30
APPOINTMENT_BUFFER_TIME=15
APPOINTMENT_MAX_ADVANCE_DAYS=90
APPOINTMENT_REMINDER_HOURS=24

# Medical Records Configuration
MEDICAL_RECORD_RETENTION_YEARS=7
MEDICAL_RECORD_ENCRYPTION_ENABLED=true
MEDICAL_RECORD_AUDIT_ENABLED=true

# System Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."
MAINTENANCE_ALLOWED_IPS="127.0.0.1,::1"